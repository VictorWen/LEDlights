let SparkColor = (gradient (randselect rainbow 4) BLACK)
let SparkPBody = (randpbody -1 1 -20 30 -10 -10)
let SparkBehaviors = [(decay 0.625) (life 5)]
let Spark = (particle SparkColor SparkPBody 1 SparkBehaviors)

# let FireworkColor = (gradient (randselect rainbow) BLACK)
let FireworkPBody = (randpbody 0 0 35 45 -10 -10)
let FireworkBehaviors = [(collision [(life 0) (explosion Spark 25 0)])]
let Firework = (particle SparkColor FireworkPBody 2 FireworkBehaviors true)

let FusePBody = (randpbody 0 0 20 30)
let Fuse = (particle BLACK FusePBody 0 [(collision [(life 0)])] true)

let FireworkEmitter = (particle BLACK (pbody 0) 0 [(emitter Firework 0.2)])
let FuseEmitter = (particle BLACK (pbody -40) 0 [(emitter Fuse 0.2)])

physics [FireworkEmitter FuseEmitter]